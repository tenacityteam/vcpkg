diff --git a/build/cmake/config.cmake b/build/cmake/config.cmake
index 91d11ac..4e22ee9 100644
--- a/build/cmake/config.cmake
+++ b/build/cmake/config.cmake
@@ -41,7 +41,40 @@ macro(wx_get_dependencies var lib)
                 endif()
                 set(dep_name "-l${dep_name}")
             else()
-                get_filename_component(dep_name ${dep} NAME)
+                if (CMAKE_BUILD_TYPE STREQUAL "Release")
+                    # For "$<$<CONFIG:DEBUG>:"
+                    set(CONFIG_TYPE_INVERT "CONFIG:DEBUG>:")
+                else()
+                    # For "$<$<NOT:$<CONFIG:DEBUG>>:"
+                    set(CONFIG_TYPE_INVERT "CONFIG:DEBUG>>:")
+                endif()
+                if (dep MATCHES "${CONFIG_TYPE_INVERT}")
+                    continue()
+                endif()
+                string(REGEX REPLACE "^.+>:(.+)>$" "\\1" dep_path ${dep})
+                if (NOT dep_path)
+                    set(dep_name ${dep})
+                else()
+                    string(REGEX MATCH "^-.*$" ADDED_PREFIX ${dep_path})
+                    if (ADDED_PREFIX)
+                        set(dep_name ${dep_path})
+                    else()
+                        get_filename_component(abs_path ${dep_path} PATH)
+                        if (NOT abs_path)
+                            string(REGEX MATCH "^lib(.*).a$" CURR_STATIC_NAME ${dep_path})
+                            string(REGEX MATCH "^lib(.*).so$" CURR_DYNAMIC_NAME ${dep_path})
+                            if (CURR_STATIC_NAME)
+                                set(dep_name "-l${CURR_STATIC_NAME}")
+                            elseif (CURR_DYNAMIC_NAME)
+                                set(dep_name "-l${CURR_DYNAMIC_NAME}")
+                            else()
+                                set(dep_name "-l${dep_path}")
+                            endif()
+                        else()
+                            set(dep_name ${dep_path})
+                        endif()
+                    endif()
+                endif()
             endif()
             wx_string_append(${var} "${dep_name} ")
         endforeach()
